/*
 * This Java source file was generated by the Gradle 'init' task.
 */
import org.junit.After;
import org.junit.Before;
import org.junit.Test;

import java.io.ByteArrayOutputStream;
import java.io.PrintStream;
import java.util.ArrayList;
import java.util.List;

import static org.junit.Assert.*;

public class LibraryTest {
    //Testing for Maps Calculator
    ////////
    private final ByteArrayOutputStream outContent = new ByteArrayOutputStream();
    private final ByteArrayOutputStream errContent = new ByteArrayOutputStream();
    private final PrintStream originalOut = System.out;
    private final PrintStream originalErr = System.err;

    @Before
    public void setUpStreams() {
        System.setOut(new PrintStream(outContent));
        System.setErr(new PrintStream(errContent));
    }

    @Test
    public void testSomeLibraryMethod() {
        Library classUnderTest = new Library();
        assertTrue("someLibraryMethod should return 'true'", classUnderTest.someLibraryMethod());
    }

    //testing for rolls
    @Test
    public void testRoll() {
        Library classUnderTest = new Library();
        int expected = 3;
        int rolls = Library.roll(3);
        assertEquals(expected, rolls);
    }

    //testing duplicates
    @Test
    public void testContainsDuplicates() {
        Library classUnderTest = new Library();
        int[] num = new int[4];
        num[0] = 1;
        num[1] = 2;
        num[2] = 2;
        num[3] = 4;

        assertTrue("containDuplicates method should return 'true' if it contains duplicates", Library.containsDuplicates(num));

        int[] num1 = new int[4];
        num1[0] = 1;
        num1[1] = 2;
        num1[2] = 3;
        num1[3] = 4;
        assertFalse("containDuplicates method should return 'false' if it contains no duplicates", Library.containsDuplicates(num1));
    }

    //Testing for average calculator
    @Test
    public void testAverageCalculator() {
        Library classUnderTest = new Library();
        int[] nums = new int[4];
        nums[0] = 1;
        nums[1] = 2;
        nums[2] = 3;
        nums[3] = 4;
        int expected = 2;

        assertEquals(expected, Library.averageCalculator(nums));
    }

    //Testing for lowest average

    @Test
    public void LowestCalculator() {
        Library classUnderTest = new Library();
        int[][] nums = new int[3][2];
        nums[0][0] = 1;
        nums[0][1] = 2;
        nums[1][0] = 2;
        nums[1][1] = 2;
        nums[2][0] = 3;
        nums[2][1] = 3;

        int[] expected = {1, 2};

        assertArrayEquals(expected, Library.lowestAverage(nums));
    }




    ///////

    @Test
    public void uniqueCalculatorMapsTest() {

        Library classUnderTest = new Library();
        int[][] weeklyMonthTemperatures = {
                {66, 64, 58, 65, 71, 57, 60},
                {57, 65, 65, 70, 72, 65, 51},
                {55, 54, 60, 53, 59, 57, 61},
                {65, 56, 55, 52, 55, 62, 57}
        };
        Library.uniqueValues(weeklyMonthTemperatures);
        String expected = "High: 72\nLow: 51\nNever saw temperature: 63\nNever saw temperature: 67\nNever saw temperature: 68\nNever saw temperature: 69\n";
        assertEquals(expected,outContent.toString());
    }

    //Testing for Tally
    @Test
    public void tallyCalculator() {
        Library classUnderTest = new Library();
        List<String> votes = new ArrayList<>();
        votes.add("Bush");
        votes.add("Bush");
        votes.add("Bush");
        votes.add("Shrub");
        votes.add("Hedge");
        votes.add("Shrub");
        votes.add("Bush");
        votes.add("Hedge");
        votes.add("Bush");

        String expected ="Bush received the most votes!";
        assertEquals(expected, Library.tally(votes));

        votes.add("Bush");
        votes.add("Bush");
        votes.add("Hedge");
        votes.add("Hedge");
        votes.add("Hedge");
        votes.add("Shrub");
        votes.add("Bush");
        votes.add("Hedge");
        votes.add("Hedge");

        String expected1 = "Hedge received the most votes!";
        assertEquals(expected1, Library.tally(votes));


    }

    @After
    public void restoreStreams() {
        System.setOut(originalOut);
        System.setErr(originalErr);
    }
}
